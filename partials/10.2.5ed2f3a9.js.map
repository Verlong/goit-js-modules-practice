{"mappings":"AACA,IAAMA,cAAgBC,SAASC,cAAc,QACvCC,SAAWF,SAASC,cAAc,UAClCE,WAAaH,SAASC,cAAc,UAEtCG,gBAAiB,EAEfC,SAAW,uCACXC,UAAY,SACZC,MAAQ,GACVC,KAAO,EACLC,YAAcC,KAAKC,KAAK,IAAMJ,OAKpC,SAASK,cACPC,aAAaC,MAAK,SAAAC,GAChB,IAAMC,EAASC,YAAYF,GAC3Bb,SAASgB,mBAAmB,YAAaF,E,IAEvCR,OAASC,aACXV,cAAcoB,MAAMC,QAAU,OAC9BC,qBAEAtB,cAAcuB,YAAc,YAC5Bd,O,CAIJ,SAASK,aACP,IAAMU,EAAM,GAAcC,OAAXnB,UAA+BmB,OAApBlB,UAAU,YAAyBkB,OAAfjB,MAAM,WAAciB,OAALhB,MAC7D,OAAOiB,MAAMF,GAAKT,MAAK,SAAAY,G,OAAOA,EAAIC,M,IAGpC,SAASV,YAAYF,GAYnB,OAXeA,EACZa,KAAI,SAAAC,G,IAAGC,EAAED,EAAFC,GAAIC,EAAKF,EAALE,MAAOC,EAAIH,EAAJG,KAAMC,EAAMJ,EAANI,OACvB,MAAO,gDAEwBT,OADIO,EAAMG,MAAM,EAAG,IAAI,8CAErBV,OADFM,EAAG,+CAEDN,OADAS,EAAO,+CACFT,OAALQ,EAAK,0B,IAGvCG,KAAK,G,CAKV,SAASd,mBACHjB,iBAGJA,gBAAiB,EACjBD,WAAWiC,UAAUC,IAAI,cACzBC,YAAW,WACTnC,WAAWiC,UAAUG,OAAO,cAC5BnC,gBAAiB,C,GAChB,K,CA7CLL,cAAcyC,iBAAiB,QAAS5B","sources":["src/partials/10.2.js"],"sourcesContent":["// ==============================================================================================\nconst fetchPostsBtn = document.querySelector('.btn');\nconst userList = document.querySelector('.posts');\nconst alertPopup = document.querySelector('.alert');\n\nlet isAlertVisible = false;\n\nconst BASE_URL = 'https://jsonplaceholder.typicode.com';\nconst END_POINT = '/posts';\nconst LIMIT = 20;\nlet PAGE = 1;\nconst TOTAL_PAGES = Math.ceil(100 / LIMIT);\n// const PARAMS = new URLSearchParams({ _limit: LIMIT, _page: PAGE });\n\nfetchPostsBtn.addEventListener('click', handleClick);\n\nfunction handleClick() {\n  fetchPosts().then(data => {\n    const markup = renderPosts(data);\n    userList.insertAdjacentHTML('beforeend', markup);\n  });\n  if (PAGE === TOTAL_PAGES) {\n    fetchPostsBtn.style.display = 'none';\n    toggleAlertPopup();\n  } else {\n    fetchPostsBtn.textContent = 'Load more';\n    PAGE++;\n  }\n}\n\nfunction fetchPosts() {\n  const url = `${BASE_URL}${END_POINT}?_limit=${LIMIT}&_page=${PAGE}`;\n  return fetch(url).then(res => res.json());\n}\n\nfunction renderPosts(data) {\n  const markup = data\n    .map(({ id, title, body, userId }) => {\n      return `<li>\n                <h2 class=\"post-title\">${title.slice(0, 30)}</h2>\n                <p><b>Post id</b>: ${id}</p>\n                <p><b>Author id</b>: ${userId}</p>\n                <p class=\"post-body\">${body}</p>\n            </li>`;\n    })\n    .join('');\n\n  return markup;\n}\n\nfunction toggleAlertPopup() {\n  if (isAlertVisible) {\n    return;\n  }\n  isAlertVisible = true;\n  alertPopup.classList.add('is-visible');\n  setTimeout(() => {\n    alertPopup.classList.remove('is-visible');\n    isAlertVisible = false;\n  }, 3000);\n}\n\n// ========================================================================================================\n"],"names":["fetchPostsBtn","document","querySelector","userList","alertPopup","isAlertVisible","BASE_URL","END_POINT","LIMIT","PAGE","TOTAL_PAGES","Math","ceil","handleClick","fetchPosts","then","data","markup","renderPosts","insertAdjacentHTML","style","display","toggleAlertPopup","textContent","url","concat","fetch","res","json","map","param","id","title","body","userId","slice","join","classList","add","setTimeout","remove","addEventListener"],"version":3,"file":"10.2.5ed2f3a9.js.map"}
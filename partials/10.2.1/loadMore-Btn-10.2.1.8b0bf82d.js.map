{"mappings":"AACA,MAAMA,EAAgBC,SAASC,cAAc,QACvCC,EAAWF,SAASC,cAAc,UAClCE,EAAaH,SAASC,cAAc,UAE1C,IAAIG,GAAiB,EAKrB,IAAIC,EAAO,EACX,MAAMC,EAAcC,KAAKC,KAAK,GAG9BT,EAAcU,iBAAiB,SAE/B,YAcA,WAEE,OAAOC,MADK,8DAAiDL,KAC3CM,MAAKC,GAAOA,EAAIC,Q,EAflCC,GAAaH,MAAKI,IAChB,MAAMC,EAiBV,SAAqBD,GAYnB,OAXeA,EACZE,KAAI,EAACC,GAAEA,EAAEC,MAAEA,EAAKC,KAAEA,EAAIC,OAAEA,KAChB,gDAC4BF,EAAMG,MAAM,EAAG,gDACnBJ,+CACEG,+CACAD,6BAGlCG,KAAK,G,CA3BSC,CAAYT,GAC3Bb,EAASuB,mBAAmB,YAAaT,EAAO,IAE9CX,IAASC,GACXP,EAAc2B,MAAMC,QAAU,OA4BlC,WACE,GAAIvB,EACF,OAEFA,GAAiB,EACjBD,EAAWyB,UAAUC,IAAI,cACzBC,YAAW,KACT3B,EAAWyB,UAAUG,OAAO,cAC5B3B,GAAiB,CAAK,GACrB,I,CApCD4B,KAEAjC,EAAckC,YAAc,YAC5B5B,I","sources":["src/partials/10.2.1/loadMore-Btn-10.2.1.js"],"sourcesContent":["// ==============================================================================================\nconst fetchPostsBtn = document.querySelector('.btn');\nconst userList = document.querySelector('.posts');\nconst alertPopup = document.querySelector('.alert');\n\nlet isAlertVisible = false;\n\nconst BASE_URL = 'https://jsonplaceholder.typicode.com';\nconst END_POINT = '/posts';\nconst LIMIT = 20;\nlet PAGE = 1;\nconst TOTAL_PAGES = Math.ceil(100 / LIMIT);\n// const PARAMS = new URLSearchParams({ _limit: LIMIT, _page: PAGE });\n\nfetchPostsBtn.addEventListener('click', handleClick);\n\nfunction handleClick() {\n  fetchPosts().then(data => {\n    const markup = renderPosts(data);\n    userList.insertAdjacentHTML('beforeend', markup);\n  });\n  if (PAGE === TOTAL_PAGES) {\n    fetchPostsBtn.style.display = 'none';\n    toggleAlertPopup();\n  } else {\n    fetchPostsBtn.textContent = 'Load more';\n    PAGE++;\n  }\n}\n\nfunction fetchPosts() {\n  const url = `${BASE_URL}${END_POINT}?_limit=${LIMIT}&_page=${PAGE}`;\n  return fetch(url).then(res => res.json());\n}\n\nfunction renderPosts(data) {\n  const markup = data\n    .map(({ id, title, body, userId }) => {\n      return `<li>\n                <h2 class=\"post-title\">${title.slice(0, 30)}</h2>\n                <p><b>Post id</b>: ${id}</p>\n                <p><b>Author id</b>: ${userId}</p>\n                <p class=\"post-body\">${body}</p>\n            </li>`;\n    })\n    .join('');\n\n  return markup;\n}\n\nfunction toggleAlertPopup() {\n  if (isAlertVisible) {\n    return;\n  }\n  isAlertVisible = true;\n  alertPopup.classList.add('is-visible');\n  setTimeout(() => {\n    alertPopup.classList.remove('is-visible');\n    isAlertVisible = false;\n  }, 3000);\n}\n\n// ========================================================================================================\n"],"names":["$d6cb7c8bed964497$var$fetchPostsBtn","document","querySelector","$d6cb7c8bed964497$var$userList","$d6cb7c8bed964497$var$alertPopup","$d6cb7c8bed964497$var$isAlertVisible","$d6cb7c8bed964497$var$PAGE","$d6cb7c8bed964497$var$TOTAL_PAGES","Math","ceil","addEventListener","fetch","then","res","json","$d6cb7c8bed964497$var$fetchPosts","data","markup","map","id","title","body","userId","slice","join","$d6cb7c8bed964497$var$renderPosts","insertAdjacentHTML","style","display","classList","add","setTimeout","remove","$d6cb7c8bed964497$var$toggleAlertPopup","textContent"],"version":3,"file":"loadMore-Btn-10.2.1.8b0bf82d.js.map"}
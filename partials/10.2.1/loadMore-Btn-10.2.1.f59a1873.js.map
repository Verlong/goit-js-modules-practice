{"mappings":"YACA,IAAMA,EAAgBC,SAASC,cAAc,QACvCC,EAAWF,SAASC,cAAc,UAClCE,EAAaH,SAASC,cAAc,UAEtCG,GAAiB,EAKjBC,EAAO,EACLC,EAAcC,KAAKC,KAAK,GAG9BT,EAAcU,iBAAiB,SAE/B,YAcA,WACE,IAAMC,EAAM,GAAcC,OAxBX,wCAwB+BA,OAvB9B,SAuBoB,YAAyBA,OAtBjD,GAsBwC,WAAcA,OAALN,GAC7D,OAAOO,MAAMF,GAAKG,MAAK,SAAAC,G,OAAOA,EAAIC,M,KAflCC,GAAaH,MAAK,SAAAI,GAChB,IAAMC,EAiBV,SAAqBD,GAYnB,OAXeA,EACZE,KAAI,SAAAC,G,IAAGC,EAAED,EAAFC,GAAIC,EAAKF,EAALE,MAAOC,EAAIH,EAAJG,KAAMC,EAAMJ,EAANI,OACvB,MAAO,gDAEwBb,OADIW,EAAMG,MAAM,EAAG,IAAI,8CAErBd,OADFU,EAAG,+CAEDV,OADAa,EAAO,+CACFb,OAALY,EAAK,0B,IAGvCG,KAAK,G,CA3BSC,CAAYV,GAC3Bf,EAAS0B,mBAAmB,YAAaV,E,IAEvCb,IAASC,GACXP,EAAc8B,MAAMC,QAAU,OA4BlC,WACE,GAAI1B,EACF,OAEFA,GAAiB,EACjBD,EAAW4B,UAAUC,IAAI,cACzBC,YAAW,WACT9B,EAAW4B,UAAUG,OAAO,cAC5B9B,GAAiB,C,GAChB,I,CApCD+B,KAEApC,EAAcqC,YAAc,YAC5B/B,I","sources":["src/partials/10.2.1/loadMore-Btn-10.2.1.js"],"sourcesContent":["// ==============================================================================================\nconst fetchPostsBtn = document.querySelector('.btn');\nconst userList = document.querySelector('.posts');\nconst alertPopup = document.querySelector('.alert');\n\nlet isAlertVisible = false;\n\nconst BASE_URL = 'https://jsonplaceholder.typicode.com';\nconst END_POINT = '/posts';\nconst LIMIT = 20;\nlet PAGE = 1;\nconst TOTAL_PAGES = Math.ceil(100 / LIMIT);\n// const PARAMS = new URLSearchParams({ _limit: LIMIT, _page: PAGE });\n\nfetchPostsBtn.addEventListener('click', handleClick);\n\nfunction handleClick() {\n  fetchPosts().then(data => {\n    const markup = renderPosts(data);\n    userList.insertAdjacentHTML('beforeend', markup);\n  });\n  if (PAGE === TOTAL_PAGES) {\n    fetchPostsBtn.style.display = 'none';\n    toggleAlertPopup();\n  } else {\n    fetchPostsBtn.textContent = 'Load more';\n    PAGE++;\n  }\n}\n\nfunction fetchPosts() {\n  const url = `${BASE_URL}${END_POINT}?_limit=${LIMIT}&_page=${PAGE}`;\n  return fetch(url).then(res => res.json());\n}\n\nfunction renderPosts(data) {\n  const markup = data\n    .map(({ id, title, body, userId }) => {\n      return `<li>\n                <h2 class=\"post-title\">${title.slice(0, 30)}</h2>\n                <p><b>Post id</b>: ${id}</p>\n                <p><b>Author id</b>: ${userId}</p>\n                <p class=\"post-body\">${body}</p>\n            </li>`;\n    })\n    .join('');\n\n  return markup;\n}\n\nfunction toggleAlertPopup() {\n  if (isAlertVisible) {\n    return;\n  }\n  isAlertVisible = true;\n  alertPopup.classList.add('is-visible');\n  setTimeout(() => {\n    alertPopup.classList.remove('is-visible');\n    isAlertVisible = false;\n  }, 3000);\n}\n\n// ========================================================================================================\n"],"names":["$dce2aa3444c69c9b$var$fetchPostsBtn","document","querySelector","$dce2aa3444c69c9b$var$userList","$dce2aa3444c69c9b$var$alertPopup","$dce2aa3444c69c9b$var$isAlertVisible","$dce2aa3444c69c9b$var$PAGE","$dce2aa3444c69c9b$var$TOTAL_PAGES","Math","ceil","addEventListener","url","concat","fetch","then","res","json","$dce2aa3444c69c9b$var$fetchPosts","data","markup","map","param","id","title","body","userId","slice","join","$dce2aa3444c69c9b$var$renderPosts","insertAdjacentHTML","style","display","classList","add","setTimeout","remove","$dce2aa3444c69c9b$var$toggleAlertPopup","textContent"],"version":3,"file":"loadMore-Btn-10.2.1.f59a1873.js.map"}